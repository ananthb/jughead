{{ define "main" }}
<article>
        <header>
                <h1>{{ .Title }}</h1>
                <section>
                        Posted on
                        <time datetime='{{ dateFormat "2006-02-02 15:04" .Date }}'>
                                {{ dateFormat "Jan 02, 2006" .Date}}
                        </time>
                        {{ if .Draft }}
                        <mark>DRAFT</mark>
                        {{ end }}
                        <p>{{ printf "Estimated reading time: %d minutes" .ReadingTime }}</p>
                        {{ if isset .Params "tldr" -}}
                        <strong>tl;dr:</strong>
                        <p>{{ .Params.tldr }}</p>
                        {{- end }}
                </section>

                <section>
                        <h2>Table of Contents</h2>
                        <aside>{{ .TableOfContents }}</aside>
                </section>
        </header>

        <main>{{ .Content }}</main>

        <footer>
                {{ if ne .Type "page" }}
                {{ if gt .Params.tags 0 }}
                <small><strong>Tags</strong></small>
                <nav>
                        <ul>
                                {{ range .Params.tags }}
                                <li>
                                        <small>
                                                <a href='{{ "/tags/" | relLangURL }}{{ . | urlize }}'>
                                                        {{ . | title }}
                                                </a>
                                        </small>
                                </li>
                                {{ end }}
                        </ul>
                </nav>
                {{ end }}
                {{ end }}
                {{ if not .Params.comments }}
                <section>
                        {{ with .Site.Params.giscus }}
                        <script src="https://giscus.app/client.js"
                                data-repo="{{ .repo }}"
                                data-repo-id="{{ .repoID }}"
                                data-category="{{ .category }}"
                                data-category-id="{{ .categoryID }}"
                                data-mapping="{{ .mapping }}"
                                data-strict="{{ .strict }}"
                                data-reactions-enabled="{{ .reactionsEnabled }}"
                                data-emit-metadata="{{ .emitMetadata }}"
                                data-input-position="{{ .inputPosition }}"
                                data-theme="{{ .theme }}"
                                data-lang="{{ .lang }}"
                                data-loading="{{ .lazy }}"
                                crossorigin="anonymous"
                                async>
                        </script>
                        <noscript>
                                No JavaScript? Read comments from the GitHub
                                <a href="https://github.com/{{ .repo }}/discussions?discussions_q={{ $.Page.Title }}">
                                        Discussion
                                </a>
                                directly.
                        </noscript>
                        {{ end }}
                </section>
                {{ end }}
        </footer>
</article>

{{ end }}
